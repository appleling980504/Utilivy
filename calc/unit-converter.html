<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Utilivy - Unit Converter</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-color: #4f46e5;
      --bg-color: #f3f4f6;
      --text-color: #111827;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
    }
    header {
      background: white;
      padding: 1rem 2rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 1.5rem;
      line-height: 1;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .lang-switch {
      display: flex;
      gap: 0.5rem;
    }
    .lang-switch button {
      padding: 0.4rem 0.8rem;
      font-size: 0.85rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background-color: var(--primary-color);
      color: white;
      width: 42px;
      height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    header a {
      text-decoration: none;
      color: var(--primary-color);
      font-weight: 500;
      font-size: 0.95rem;
    }
    .container {
      max-width: 700px;
      margin: 2rem auto;
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .category-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .category-buttons button {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: #fff;
      cursor: pointer;
    }
    .category-buttons button.active {
      background: var(--primary-color);
      color: white;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 500;
    }
    input, select {
      width: 100%;
      padding: 0.6rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
      margin-top: 0.5rem;
    }
    .convert-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.75rem;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 1.5rem;
      width: 100%;
      font-size: 1rem;
    }
    .convert-btn:hover {
      background-color: #4338ca;
    }
    #result {
      margin-top: 1.5rem;
      font-weight: bold;
      font-size: 1.2rem;
    }
    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <header>
    <h1 data-en="Utilivy - Unit Converter" data-zh="Utilivy - 单位换算器">Utilivy - Unit Converter</h1>
    <div class="lang-switch">
      <button onclick="setLang('en')">EN</button>
      <button onclick="setLang('zh')">中</button>
      <a href="/">← <span data-en="Back to Home" data-zh="返回首页">Back to Home</span></a>
    </div>
  </header>

  <div class="container">
    <div class="category-buttons" id="categoryButtons"></div>

    <div class="converter-section" id="converterSection">
      <label data-en="Enter value:" data-zh="输入数值：">Enter value:</label>
      <input type="number" id="value" placeholder="e.g., 100" />

      <label data-en="From:" data-zh="从单位：">From:</label>
      <select id="fromUnit"></select>

      <label data-en="To:" data-zh="到单位：">To:</label>
      <select id="toUnit"></select>

      <button class="convert-btn" onclick="convert()">Convert / 转换</button>
      <div id="result"></div>
    </div>
  </div>

  <footer>&copy; 2025 Utilivy. <span data-en="All rights reserved." data-zh="保留所有权利。">All rights reserved.</span></footer>

<script>
  const units = {
    length: { mm: 1, cm: 10, m: 1000, km: 1000000 },
    weight: { mg: 1, g: 1000, kg: 1000000, ton: 1000000000 },
    volume: { ml: 1, l: 1000, m3: 1000000 },
    temperature: { C: 'Celsius', F: 'Fahrenheit', K: 'Kelvin' },
    time: { sec: 1, min: 60, hr: 3600, day: 86400 },
    area: { mm2: 1, cm2: 100, m2: 1000000, ha: 10000000000, km2: 1000000000000 },
    speed: { 'm/s': 1, 'km/h': 0.277778, 'mph': 0.44704, 'knot': 0.514444 },
    pressure: { Pa: 1, kPa: 1000, bar: 100000, atm: 101325, psi: 6894.76 },
    energy: { J: 1, kJ: 1000, Wh: 3600, kWh: 3600000, cal: 4.184, kcal: 4184 },
    power: { W: 1, kW: 1000, hp: 745.7, MW: 1000000 },
    data: { B: 1, KB: 1024, MB: 1048576, GB: 1073741824, TB: 1099511627776 }
  };

  const categoryLabels = {
    length: { en: "Length", zh: "长度" },
    weight: { en: "Weight", zh: "重量" },
    volume: { en: "Volume", zh: "容积" },
    temperature: { en: "Temperature", zh: "温度" },
    time: { en: "Time", zh: "时间" },
    area: { en: "Area", zh: "面积" },
    speed: { en: "Speed", zh: "速度" },
    pressure: { en: "Pressure", zh: "压强" },
    energy: { en: "Energy", zh: "能量" },
    power: { en: "Power", zh: "功率" },
    data: { en: "Data", zh: "数据" }
  };

  const categoryButtons = document.getElementById('categoryButtons');
  const converterSection = document.getElementById('converterSection');
  const fromUnit = document.getElementById('fromUnit');
  const toUnit = document.getElementById('toUnit');
  let currentCategory = '';
  let currentLang = 'en';

  // Render category buttons
  for (const category in units) {
    const btn = document.createElement('button');
    btn.setAttribute('data-en', categoryLabels[category].en);
    btn.setAttribute('data-zh', categoryLabels[category].zh);
    btn.textContent = categoryLabels[category].en;
    btn.onclick = () => {
      document.querySelectorAll('.category-buttons button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentCategory = category;
      populateUnits(category);
    };
    categoryButtons.appendChild(btn);
  }

  function populateUnits(category) {
    fromUnit.innerHTML = '';
    toUnit.innerHTML = '';
    for (const key in units[category]) {
      fromUnit.appendChild(new Option(key, key));
      toUnit.appendChild(new Option(key, key));
    }
  }

  function convert() {
    const value = parseFloat(document.getElementById('value').value);
    const from = fromUnit.value;
    const to = toUnit.value;

    if (isNaN(value)) {
      document.getElementById('result').innerText = currentLang === 'zh'
        ? '请输入有效数字。'
        : 'Please enter a valid number.';
      return;
    }

    let result;
    if (currentCategory === 'temperature') {
      result = convertTemperature(value, from, to);
    } else {
      const base = value * units[currentCategory][from];
      result = base / units[currentCategory][to];
    }

    document.getElementById('result').innerText = `${value} ${from} = ${result} ${to}`;
  }

  function convertTemperature(value, from, to) {
    if (from === to) return value;
    let celsius;
    if (from === 'C') celsius = value;
    else if (from === 'F') celsius = (value - 32) * 5 / 9;
    else if (from === 'K') celsius = value - 273.15;
    if (to === 'C') return celsius;
    else if (to === 'F') return celsius * 9 / 5 + 32;
    else if (to === 'K') return celsius + 273.15;
  }

  function setLang(lang) {
    currentLang = lang;
    document.querySelectorAll('[data-en]').forEach(el => {
      el.textContent = el.getAttribute(`data-${lang}`);
    });
  }

  setLang('en'); // default
</script>

</body>
</html>
